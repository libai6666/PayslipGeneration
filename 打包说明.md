# 工资条生成器打包说明

本文档提供了如何将工资条生成器应用程序打包为可执行文件的说明。

## 准备工作

在开始打包之前，请确保：

1. 已安装Python（建议3.8或更高版本）
2. 已安装所有必要的依赖（可通过`pip install -r requirements.txt`安装）

## 打包方法

项目提供了两种打包方式，您可以根据需要选择：

### 使用打包脚本（推荐）

直接运行`build.bat`脚本，脚本会：
1. 创建或激活虚拟环境
2. 安装必要的依赖
3. 提示您选择打包模式（单文件或目录模式）
4. 生成可执行文件
5. 对于目录模式，自动生成一个ZIP包

操作步骤：
1. 双击运行`build.bat`
2. 根据提示选择打包模式（按1或2）
3. 等待打包完成
4. 在`dist`目录下获取生成的文件

### 手动使用PyInstaller

如果您需要更多自定义选项，可以手动使用PyInstaller命令：

```bash
# 单文件模式
pyinstaller --onefile --windowed --name "工资条生成器" --icon=assets/icon.ico --version-file=version.txt main.py

# 目录模式
pyinstaller --windowed --name "工资条生成器" --icon=assets/icon.ico --version-file=version.txt main.py
```

## 打包模式比较

两种打包模式各有优缺点：

### 单文件模式（--onefile）
- **优点**：分发方便，只需要一个EXE文件
- **缺点**：启动较慢，每次运行需要解压资源

### 目录模式
- **优点**：启动快速
- **缺点**：需要分发整个目录，或打包为ZIP文件

## 分发应用程序

### 单文件模式
直接分发`dist`目录下的`工资条生成器.exe`文件即可。

### 目录模式
有两种分发方式：
1. 分发整个`dist/工资条生成器`目录
2. 分发自动生成的`dist/工资条生成器_目录模式.zip`文件，用户需要解压后运行

## 注意事项

1. 确保目标机器上没有安装任何防病毒软件误报可执行文件
2. Windows可能会显示"未知发布者"警告，可以告知用户点击"更多信息"然后选择"仍要运行"
3. 如果应用程序依赖于特定的系统组件，可能需要告知用户安装这些组件

## 故障排除

如果打包后的应用程序运行出错：

1. 检查是否包含了所有必要的资源文件和依赖项
2. 尝试在命令行中运行EXE文件，查看详细错误信息
3. 确保目标机器满足运行要求（如操作系统版本、依赖组件等） 